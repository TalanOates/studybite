{% extends "layout.html" %}
{% block content %}
<div class="row">
  <div class="col-md-9">
    <div id="chart_id"></div>
  </div>
</div>
<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

  google.load('visualization', '1', {'packages':['corechart']});

  google.setOnLoadCallback(drawChart);

  function drawChart() {

    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Topic');
    data.addColumn('number', 'Number of votes');
    data.addRows([
            {%- for value, num in data %}
            ['{{ value }}', {{ num }}],
            {%- endfor %}
    ]);

    var chart = new google.visualization.PieChart(
            document.getElementById('chart_id'));
    chart.draw(data, {legend: 'true', vAxis: {baseline: 0}});
  }
</script>
<style>
    #chart_id {
        min-height: 400px;
    }
</style>
{% endblock content %}
